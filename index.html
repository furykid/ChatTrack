<!doctype html>
<html>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io();
        socket.on('connect', () => {
            document.getElementById('connectionString').innerHTML = '[Connected to Server]';
        });
        socket.on('disconnect', () => {
            document.getElementById('connectionString').innerHTML = '[Disconnected from Server]';
        });
        socket.on('list-update', (data) => {
            var ul = document.getElementById('messageList');
            var li = document.createElement('li');
            li.appendChild(document.createTextNode(data));
            ul.appendChild(li);
        });
        socket.on('flushList', ()=>{
            var ul = document.getElementById('messageList').innerHTML = '';
        })
        function onSendParams(){
            var span = document.getElementById("timeSpanInDays").value;
            var token = document.getElementById("chatType").value;
            socket.emit('newParams', {days:span, chatType:token});
        }
    </script> 

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <body>
        <div>
            <h1>Poe Chat Tracker</h1>
        </div>
        <div>
            <text id="connectionString">
        </div>
        <br><br>
        <div>

        Days to print: <input type="text" id="timeSpanInDays"><br><br>
        Chat Type: <input type="text" id="chatType"><br><br>

        <button id="submitData" onclick="onSendParams()">Refresh</button><br><br>

        <ul id="messageList">
        </ul>>
        </div>
    </body>
</html>